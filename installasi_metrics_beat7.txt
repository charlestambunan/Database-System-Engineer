[systemd]
Failed Units: 2
  elasticsearch.service
  mcelog.service
[ctambunan@fedora ~]$ sudo su
[sudo] password for ctambunan: 
[systemd]
Failed Units: 2
  elasticsearch.service
  mcelog.service
[root@fedora ctambunan]# systemctl start elasticsearch.service

[root@fedora ctambunan]# 
[root@fedora ctambunan]# systemctl start kibana.service
[root@fedora ctambunan]# systemctl start logstash.service
[root@fedora ctambunan]# systemctl status logstash.service
● logstash.service - logstash
     Loaded: loaded (/etc/systemd/system/logstash.service; disabled; vendor preset: disabled)
     Active: active (running) since Wed 2022-02-02 18:17:41 WIB; 21s ago
   Main PID: 4153 (java)
      Tasks: 14 (limit: 9370)
     Memory: 304.7M
        CPU: 13.875s
     CGroup: /system.slice/logstash.service
             └─4153 /usr/share/logstash/jdk/bin/java -Xms1g -Xmx1g -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -Djava.>

Feb 02 18:17:41 fedora systemd[1]: Started logstash.
Feb 02 18:17:41 fedora logstash[4153]: Using bundled JDK: /usr/share/logstash/jdk
Feb 02 18:17:41 fedora logstash[4153]: OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future rel>
lines 1-13/13 (END)
^C
[root@fedora ctambunan]# systemctl status elasticsearch.service
● elasticsearch.service - Elasticsearch
     Loaded: loaded (/usr/lib/systemd/system/elasticsearch.service; enabled; vendor preset: disabled)
     Active: active (running) since Wed 2022-02-02 18:17:20 WIB; 51s ago
       Docs: https://www.elastic.co
   Main PID: 3701 (java)
      Tasks: 69 (limit: 9370)
     Memory: 4.4G
        CPU: 39.049s
     CGroup: /system.slice/elasticsearch.service
             ├─3701 /usr/share/elasticsearch/jdk/bin/java -Xshare:auto -Des.networkaddress.cache.ttl=60 -Des.networkaddress.cache.negative.ttl=10 -XX:+AlwaysPreTouch -Xss1>
             └─3861 /usr/share/elasticsearch/modules/x-pack-ml/platform/linux-x86_64/bin/controller

Feb 02 18:16:42 fedora systemd[1]: Starting Elasticsearch...
Feb 02 18:17:20 fedora systemd[1]: Started Elasticsearch.
lines 1-14/14 (END)
^C
[root@fedora ctambunan]# nano /etc/elasticsearch/elasticsearch.yml
[root@fedora ctambunan]# cd /var/lib/elasticsearch/
[root@fedora elasticsearch]# ls -la
total 4
drwxr-s---.   3 elasticsearch elasticsearch   19 Feb  2 14:48 .
drwxr-xr-x. 102 root          root          4096 Feb  2 16:14 ..
drwxr-sr-x.   3 elasticsearch elasticsearch   15 Feb  2 14:48 nodes
[root@fedora elasticsearch]# nano /etc/elasticsearch/elasticsearch.yml
[root@fedora elasticsearch]# systemctl start logstash.service
[root@fedora elasticsearch]# systemctl enable logstash.service
Created symlink /etc/systemd/system/multi-user.target.wants/logstash.service → /etc/systemd/system/logstash.service.
[root@fedora elasticsearch]# systemctl status logstash.service
● logstash.service - logstash
     Loaded: loaded (/etc/systemd/system/logstash.service; enabled; vendor preset: disabled)
     Active: active (running) since Wed 2022-02-02 18:24:55 WIB; 53s ago
   Main PID: 4778 (java)
      Tasks: 14 (limit: 9370)
     Memory: 377.1M
        CPU: 34.482s
     CGroup: /system.slice/logstash.service
             └─4778 /usr/share/logstash/jdk/bin/java -Xms1g -Xmx1g -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djruby.compile.invokedyn>

Feb 02 18:24:55 fedora systemd[1]: Started logstash.
Feb 02 18:24:55 fedora logstash[4778]: Using bundled JDK: /usr/share/logstash/jdk
Feb 02 18:24:55 fedora logstash[4778]: OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
lines 1-13/13 (END)
^C
[root@fedora elasticsearch]# systemctl status logstash.service
● logstash.service - logstash
     Loaded: loaded (/etc/systemd/system/logstash.service; enabled; vendor preset: disabled)
     Active: active (running) since Wed 2022-02-02 18:26:09 WIB; 3s ago
   Main PID: 5034 (java)
      Tasks: 14 (limit: 9370)
     Memory: 152.6M
        CPU: 3.341s
     CGroup: /system.slice/logstash.service
             └─5034 /usr/share/logstash/jdk/bin/java -Xms1g -Xmx1g -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djruby.compile.invokedyn>

Feb 02 18:26:09 fedora systemd[1]: Started logstash.
Feb 02 18:26:09 fedora logstash[5034]: Using bundled JDK: /usr/share/logstash/jdk
Feb 02 18:26:09 fedora logstash[5034]: OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
lines 1-13/13 (END)
^C
[root@fedora elasticsearch]# systemctl status kibana.service
● kibana.service - Kibana
     Loaded: loaded (/etc/systemd/system/kibana.service; enabled; vendor preset: disabled)
     Active: active (running) since Wed 2022-02-02 18:25:27 WIB; 59s ago
       Docs: https://www.elastic.co
   Main PID: 4958 (node)
      Tasks: 11 (limit: 9370)
     Memory: 441.8M
        CPU: 14.306s
     CGroup: /system.slice/kibana.service
             └─4958 /usr/share/kibana/bin/../node/bin/node /usr/share/kibana/bin/../src/cli/dist --logging.dest=/var/log/kibana/kibana.log --pid.file=/run/kibana/kibana.pid "--deprecation.skip_deprecated_settings[0]=logging.dest"

Feb 02 18:25:27 fedora systemd[1]: Started Kibana.
[root@fedora elasticsearch]# ^C
[root@fedora elasticsearch]# systemctl status elastic.service
Unit elastic.service could not be found.
[root@fedora elasticsearch]# systemctl status elasticsearch.service
● elasticsearch.service - Elasticsearch
     Loaded: loaded (/usr/lib/systemd/system/elasticsearch.service; enabled; vendor preset: disabled)
     Active: active (running) since Wed 2022-02-02 18:17:20 WIB; 9min ago
       Docs: https://www.elastic.co
   Main PID: 3701 (java)
      Tasks: 64 (limit: 9370)
     Memory: 4.4G
        CPU: 1min 13.306s
     CGroup: /system.slice/elasticsearch.service
             ├─3701 /usr/share/elasticsearch/jdk/bin/java -Xshare:auto -Des.networkaddress.cache.ttl=60 -Des.networkaddress.cache.negative.ttl=10 -XX:+AlwaysPreTouch -Xss1m -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djna.nosys=true>
             └─3861 /usr/share/elasticsearch/modules/x-pack-ml/platform/linux-x86_64/bin/controller

Feb 02 18:16:42 fedora systemd[1]: Starting Elasticsearch...
Feb 02 18:17:20 fedora systemd[1]: Started Elasticsearch.
lines 1-14/14 (END)
^C
[root@fedora elasticsearch]# history
    1  sudo dnf install cockpit
    2  sudo systemctl enable --now cockpit.socket
    3  sudo firewall-cmd --add-service=cockpit
    4  sudo firewall-cmd --add-service=cockpit --permanent
    5  sudo dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm
    6  sudo dnf upgrade
    7  sudo subscription-manager repos --enable "rhel-*-optional-rpms" --enable "rhel-*-extras-rpms"
    8  sudo yum update
    9  sudo yum install snapd
   10  sudo systemctl enable --now snapd.socket
   11  sudo ln -s /var/lib/snapd/snap /snap
   12  sudo snap install firefox
   13  snap install firefox
   14  vi /etc/yum.repos.d/google-chrome.repo
   15  yum info google-chrome-stable
   16  yum install google-chrome-stable
   17  rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch
   18  nano /etc/yum.repos.d/elasticsearch.repo
   19  sudo dnf install --enablerepo=elasticsearch elasticsearch 
   20  ps -p 1
   21  sudo chkconfig --add elasticsearch
   22  sudo -i service elasticsearch start
   23  sudo -i service elasticsearch stop
   24  sudo systemctl start elasticsearch.service
   25  dnf search openjdk
   26  sudo dnf install java-latest-openjdk.x86_64
   27  sudo alternatives --config java
   28  java --version
   29  sudo vim /etc/elasticsearch/elasticsearch.yml
   30  sudo nano /etc/elasticsearch/elasticsearch.yml
   31  sudo reboot
   32  ip a
   33  sudo -i service kibana start
   34  nano /etc/kibana/kibana.yml 
   35  sudo systemctl start kibana
   36  sudo systemctl enable kibana
   37  firewall-cmd --add-port=5601/tcp --permanent
   38  firewall-cmd --reload
   39  http://localhost:5601
   40  systemctl status elasticsearch.service 
   41  sudo systemctl status kibana
   42  sudo systemctl status kibana
   43  "/home/username/kibanalog.txt"
   44  nano /home/username/kibanalog.txt
   45  nano /home/ctambunan/kibanalog.txt
   46  nano /etc/kibana/kibana.yml 
   47  systemctl enable kibana.service
   48  systemctl status kibana.service
   49  sudo systemctl start kibana
   50  systemctl status kibana.service
   51  history
   52  ip a
   53  exit
   54  ls -la
   55  cd Documents/
   56  ls -la
   57  mkdir ELK
   58  nano installasi_metrics_beat.txt
   59  ls -la
   60  cd ELK
   61  ls -la
   62  nano installasi_metrics_beat3.txt
   63  history >> installasi_metrics_beat3.txt 
   64  history
   65  exit
   66  history
   67  chrome
   68  metricbeat modules enable elasticsearch-xpack
   69  curl -L -O https://artifacts.elastic.co/downloads/beats/metricbeat/metricbeat-7.17.0-x86_64.rpm
   70  sudo rpm -vi metricbeat-7.17.0-x86_64.rpm
   71  metricbeat modules list
   72  metricbeat modules enable nginx
   73  nano /etc/metricbeat/metricbeat.yml 
   74  sudo nano /etc/elasticsearch/elasticsearch.yml
   75  nano /etc/elasticsearch/elasticsearch.yml 
   76  nano /etc/metricbeat/metricbeat.yml 
   77  curl -X GET "localhost:9200/_cluster/settings?pretty"
   78  curl -X PUT "localhost:9200/_cluster/settings?pretty" -H 'Content-Type: application/json' -d'
   79  {
   80    "persistent": {
   81      "xpack.monitoring.collection.enabled": true
   82    }
   83  }
   84  '
   85  metricbeat modules enable elasticsearch-xpack
   86  nano modules.d/elasticsearch-xpack.yml
   87  modules.d/elasticsearch-xpack.yml
   88  nano filebeat modules enable nginx
   89  filebeat modules enable nginx
   90  nano modules.d/elasticsearch-xpack.yml
   91  cd ..
   92  cd .. 
   93  ls -la
   94  nano /etc/modules-load.d/elasticsearch-xpack.yml
   95  systemctl status kibana.service 
   96  systemctl start kibana.service 
   97  systemctl enable kibana.service 
   98  systemctl status kibana.service 
   99  systemctl status kibana.service 
  100  cd home/
  101  cd ctambunan/
  102  sudo service metricbeat start
  103  sudo service metricbeat start
  104  systemctl start metricbeat
  105  systemctl status metricbeat
  106  systemctl enable metricbeat
  107  ls -la
  108  cd Documents/
  109  ls -la
  110  touch installasi_metrics_beat2.txt
  111  history installasi_metrics_beat2.txt 
  112  history >> installasi_metrics_beat2.txt 
  113  mv installasi_metrics_beat.txt installasi_metrics_beat1.txt
  114  ls -la
  115  mv installasi_metrics_beat{1..2}.txt
  116  mv installasi_metrics_beat{1..2}.txt ELK/
  117  ls -la
  118  curl -L -O https://artifacts.elastic.co/downloads/apm-server/apm-server-7.17.0-x86_64.rpm
  119  cd ELK/
  120  ls -la
  121  touch installasi_metrics_beat4.txt
  122  history >> installasi_metrics_beat4.txt 
  123  nano installasi_metrics_beat5.txt
  124  exit
  125  sudo systemctl start elasticsearch
  126  sudo systemctl start elasticsearch
  127  sudo systemctl enable elasticsearch
  128  curl -X GET "localhost:9200"
  129  sudo dnf install kibana
  130  rpm --import https://artifacts.elastic.co/GPG-KEY-elasticsearch
  131  nano /etc/yum.repos.d/kibana.repo
  132  sudo dnf install kibana 
  133  systemctl start elasticsearch.service
  134  systemctl start kibana.service
  135  systemctl start logstash.service
  136  systemctl status logstash.service
  137  systemctl status elasticsearch.service
  138  nano /etc/elasticsearch/elasticsearch.yml
  139  cd /var/lib/elasticsearch/
  140  ls -la
  141  nano /etc/elasticsearch/elasticsearch.yml
  142  systemctl start logstash.service
  143  systemctl enable logstash.service
  144  systemctl status logstash.service
  145  systemctl status logstash.service
  146  systemctl status kibana.service
  147  systemctl status elastic.service
  148  systemctl status elasticsearch.service
  149  history
[root@fedora elasticsearch]# curl -X GET "localhost:9200"
{
  "name" : "node-1,node-2",
  "cluster_name" : "my-application",
  "cluster_uuid" : "bKAGwXlxQse0Ol-dbIpU8g",
  "version" : {
    "number" : "7.17.0",
    "build_flavor" : "default",
    "build_type" : "rpm",
    "build_hash" : "bee86328705acaa9a6daede7140defd4d9ec56bd",
    "build_date" : "2022-01-28T08:36:04.875279988Z",
    "build_snapshot" : false,
    "lucene_version" : "8.11.1",
    "minimum_wire_compatibility_version" : "6.8.0",
    "minimum_index_compatibility_version" : "6.0.0-beta1"
  },
  "tagline" : "You Know, for Search"
}
[root@fedora elasticsearch]# curl -X GET "localhost:9200"
{
  "name" : "node-1,node-2",
  "cluster_name" : "my-application",
  "cluster_uuid" : "bKAGwXlxQse0Ol-dbIpU8g",
  "version" : {
    "number" : "7.17.0",
    "build_flavor" : "default",
    "build_type" : "rpm",
    "build_hash" : "bee86328705acaa9a6daede7140defd4d9ec56bd",
    "build_date" : "2022-01-28T08:36:04.875279988Z",
    "build_snapshot" : false,
    "lucene_version" : "8.11.1",
    "minimum_wire_compatibility_version" : "6.8.0",
    "minimum_index_compatibility_version" : "6.0.0-beta1"
  },
  "tagline" : "You Know, for Search"
}
[root@fedora elasticsearch]# curl -X GET "localhost:5061"
curl: (7) Failed to connect to localhost port 5061 after 0 ms: Connection refused
[root@fedora elasticsearch]# ls -la
total 4
drwxr-s---.   3 elasticsearch elasticsearch   19 Feb  2 14:48 .
drwxr-xr-x. 102 root          root          4096 Feb  2 16:14 ..
drwxr-sr-x.   3 elasticsearch elasticsearch   15 Feb  2 14:48 nodes
[root@fedora elasticsearch]# cd ..
[root@fedora lib]# cd /home/ctambunan/
[root@fedora ctambunan]# ls -la
total 42532
drwx------. 14 ctambunan ctambunan     4096 Feb  2 15:26 .
drwxr-xr-x.  3 root      root            23 Feb  2 13:55 ..
-rw-------.  1 ctambunan ctambunan       63 Feb  2 18:09 .bash_history
-rw-r--r--.  1 ctambunan ctambunan       18 Jul 22  2021 .bash_logout
-rw-r--r--.  1 ctambunan ctambunan      141 Jul 22  2021 .bash_profile
-rw-r--r--.  1 ctambunan ctambunan      492 Jul 22  2021 .bashrc
drwx------.  7 ctambunan ctambunan      181 Feb  2 14:40 .cache
drwx------. 10 ctambunan ctambunan     4096 Feb  2 14:54 .config
drwxr-xr-x.  2 ctambunan ctambunan        6 Feb  2 14:18 Desktop
drwxr-xr-x.  3 ctambunan ctambunan       53 Feb  2 16:03 Documents
drwxr-xr-x.  2 ctambunan ctambunan        6 Feb  2 14:18 Downloads
drwx------.  4 ctambunan ctambunan       32 Feb  2 14:18 .local
-rw-r--r--.  1 root      root      43520129 Feb  2 15:27 metricbeat-7.17.0-x86_64.rpm
drwxr-xr-x.  2 ctambunan ctambunan        6 Feb  2 14:18 Music
drwxr-xr-x.  2 ctambunan ctambunan        6 Feb  2 14:18 Pictures
drwx------.  3 ctambunan ctambunan       19 Feb  2 14:40 .pki
drwxr-xr-x.  2 ctambunan ctambunan        6 Feb  2 14:18 Public
drwxr-xr-x.  2 ctambunan ctambunan        6 Feb  2 14:18 Templates
drwxr-xr-x.  2 ctambunan ctambunan        6 Feb  2 14:18 Videos
-rw-r--r--.  1 ctambunan ctambunan      658 Jul 24  2021 .zshrc
[root@fedora ctambunan]# cd Documents/
[root@fedora Documents]# ls -la
total 35020
drwxr-xr-x.  3 ctambunan ctambunan       53 Feb  2 16:03 .
drwx------. 14 ctambunan ctambunan     4096 Feb  2 15:26 ..
-rw-r--r--.  1 root      root      35853737 Feb  2 16:04 apm-server-7.17.0-x86_64.rpm
drwxr-xr-x.  2 root      root           186 Feb  2 18:09 ELK
[root@fedora Documents]# cd ELK/
[root@fedora ELK]# ls -la
total 40
drwxr-xr-x. 2 root      root        186 Feb  2 18:09 .
drwxr-xr-x. 3 ctambunan ctambunan    53 Feb  2 16:03 ..
-rw-r--r--. 1 root      root       1159 Feb  2 15:29 installasi_metrics_beat1.txt
-rw-r--r--. 1 root      root       3084 Feb  2 15:49 installasi_metrics_beat2.txt
-rw-r--r--. 1 root      root       1627 Feb  2 18:07 installasi_metrics_beat3.txt
-rw-r--r--. 1 root      root       3488 Feb  2 18:08 installasi_metrics_beat4.txt
-rw-r--r--. 1 root      root      24146 Feb  2 18:09 installasi_metrics_beat5.txt
[root@fedora ELK]# touch installasi_metrics_beat6.txt
